// Compiled by ClojureScript 0.0-2127
goog.provide('playground.itr');
goog.require('cljs.core');
goog.require('cloact.core');
goog.require('cloact.core');
goog.require('cloact.core');
playground.itr.calc_itr = (function calc_itr(params){var log_2 = (function log_2(x){return (Math.log.call(null,x) / Math.log.call(null,2));
});var map__6121 = params;var map__6121__$1 = ((cljs.core.seq_QMARK_.call(null,map__6121))?cljs.core.apply.call(null,cljs.core.hash_map,map__6121):map__6121);var targets = cljs.core.get.call(null,map__6121__$1,new cljs.core.Keyword(null,"targets","targets",3770594420));var duration = cljs.core.get.call(null,map__6121__$1,new cljs.core.Keyword(null,"duration","duration",3316859142));var decisions = cljs.core.get.call(null,map__6121__$1,new cljs.core.Keyword(null,"decisions","decisions",1371324297));var accuracy = cljs.core.get.call(null,map__6121__$1,new cljs.core.Keyword(null,"accuracy","accuracy",3177163883));return cljs.core.assoc.call(null,params,new cljs.core.Keyword(null,"itr","itr",1014008857),((decisions / duration) * (((accuracy * log_2.call(null,accuracy)) + ((1 - accuracy) * log_2.call(null,((1 - accuracy) / (targets - 1))))) + log_2.call(null,targets))));
});
playground.itr.itr_data = cloact.core.atom.call(null,playground.itr.calc_itr.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"accuracy","accuracy",3177163883),0.99,new cljs.core.Keyword(null,"decisions","decisions",1371324297),20,new cljs.core.Keyword(null,"duration","duration",3316859142),5,new cljs.core.Keyword(null,"targets","targets",3770594420),2], null)));
playground.itr.set_itr = (function set_itr(key,val){return cljs.core.swap_BANG_.call(null,playground.itr.itr_data,(function (p1__6122_SHARP_){return playground.itr.calc_itr.call(null,cljs.core.assoc.call(null,p1__6122_SHARP_,key,val));
}));
});
playground.itr.slider = (function slider(p__6124){var map__6126 = p__6124;var map__6126__$1 = ((cljs.core.seq_QMARK_.call(null,map__6126))?cljs.core.apply.call(null,cljs.core.hash_map,map__6126):map__6126);var param = cljs.core.get.call(null,map__6126__$1,new cljs.core.Keyword(null,"param","param",1120340991));var max = cljs.core.get.call(null,map__6126__$1,new cljs.core.Keyword(null,"max","max",1014012118));var min = cljs.core.get.call(null,map__6126__$1,new cljs.core.Keyword(null,"min","min",1014012356));var value = cljs.core.get.call(null,map__6126__$1,new cljs.core.Keyword(null,"value","value",1125876963));return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"type","type",1017479852),"range",new cljs.core.Keyword(null,"value","value",1125876963),value,new cljs.core.Keyword(null,"min","min",1014012356),min,new cljs.core.Keyword(null,"max","max",1014012118),max,new cljs.core.Keyword(null,"style","style",1123684643),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",1127031096),"100%"], null),new cljs.core.Keyword(null,"on-change","on-change",606853840),(function (p1__6123_SHARP_){return playground.itr.set_itr.call(null,param,p1__6123_SHARP_.target.value);
})], null)], null);
});
playground.itr.itr_component = (function itr_component(){var map__6130 = cljs.core.deref.call(null,playground.itr.itr_data);var map__6130__$1 = ((cljs.core.seq_QMARK_.call(null,map__6130))?cljs.core.apply.call(null,cljs.core.hash_map,map__6130):map__6130);var itr = cljs.core.get.call(null,map__6130__$1,new cljs.core.Keyword(null,"itr","itr",1014008857));var targets = cljs.core.get.call(null,map__6130__$1,new cljs.core.Keyword(null,"targets","targets",3770594420));var duration = cljs.core.get.call(null,map__6130__$1,new cljs.core.Keyword(null,"duration","duration",3316859142));var decisions = cljs.core.get.call(null,map__6130__$1,new cljs.core.Keyword(null,"decisions","decisions",1371324297));var accuracy = cljs.core.get.call(null,map__6130__$1,new cljs.core.Keyword(null,"accuracy","accuracy",3177163883));var vec__6131 = (((itr < 0))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["red","random"], null):(((itr < 10))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["orange","foo"], null):(((itr < 30))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["blue","foo2"], null):((new cljs.core.Keyword(null,"else","else",1017020587))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["green","perfect"], null):null))));var color = cljs.core.nth.call(null,vec__6131,0,null);var diagnose = cljs.core.nth.call(null,vec__6131,1,null);return new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),"Targets: ",targets,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [playground.itr.slider,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"value","value",1125876963),targets,new cljs.core.Keyword(null,"min","min",1014012356),1,new cljs.core.Keyword(null,"max","max",1014012118),20,new cljs.core.Keyword(null,"param","param",1120340991),new cljs.core.Keyword(null,"targets","targets",3770594420)], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),"Decisions: ",decisions,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [playground.itr.slider,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"value","value",1125876963),decisions,new cljs.core.Keyword(null,"min","min",1014012356),1,new cljs.core.Keyword(null,"max","max",1014012118),150,new cljs.core.Keyword(null,"param","param",1120340991),new cljs.core.Keyword(null,"decisions","decisions",1371324297)], null)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),"Duration: ",duration,"min",new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [playground.itr.slider,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"value","value",1125876963),duration,new cljs.core.Keyword(null,"min","min",1014012356),1,new cljs.core.Keyword(null,"max","max",1014012118),10,new cljs.core.Keyword(null,"param","param",1120340991),new cljs.core.Keyword(null,"duration","duration",3316859142)], null)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),"Accuracy: ",(Math.round.call(null,(accuracy * 10000)) / 100),"%",new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"type","type",1017479852),"range",new cljs.core.Keyword(null,"value","value",1125876963),(accuracy * 100),new cljs.core.Keyword(null,"min","min",1014012356),0,new cljs.core.Keyword(null,"max","max",1014012118),100,new cljs.core.Keyword(null,"style","style",1123684643),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",1127031096),"100%"], null),new cljs.core.Keyword(null,"on-change","on-change",606853840),(function (p1__6127_SHARP_){return playground.itr.set_itr.call(null,new cljs.core.Keyword(null,"accuracy","accuracy",3177163883),((p1__6127_SHARP_.target.value | 0) * 0.01));
})], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"br","br",1013907394)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3","h3",1013907517),(Math.round.call(null,(itr * 100)) / 100)," B/min"], null)], null);
});

//# sourceMappingURL=itr.js.map